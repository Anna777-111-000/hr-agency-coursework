{% extends 'base.html' %}

{% block title %}–í—Ö–æ–¥ –≤ —Å–∏—Å—Ç–µ–º—É{% endblock %}

{% block content %}
<div class="container mt-5">
    <div class="row justify-content-center">
        <div class="col-md-6">
            <div class="card">
                <div class="card-header bg-primary text-white">
                    <h4 class="mb-0">–í—Ö–æ–¥ –≤ HR Agency</h4>
                </div>
                <div class="card-body">
                    <form method="post">
                        {% csrf_token %}

                        <div class="mb-3">
                            <label for="id_username" class="form-label">–ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è</label>
                            <input type="text" name="username" class="form-control" id="id_username"
                                   placeholder="–í–≤–µ–¥–∏—Ç–µ –ª–æ–≥–∏–Ω" required autofocus>
                        </div>

                        <div class="mb-3">
                            <label for="id_password" class="form-label">–ü–∞—Ä–æ–ª—å</label>
                            <div class="input-group">
                                <input type="password" name="password" class="form-control" id="id_password"
                                       placeholder="–í–≤–µ–¥–∏—Ç–µ –ø–∞—Ä–æ–ª—å" required>
                                <button type="button" class="btn btn-outline-secondary" id="togglePassword">
                                    üëÅÔ∏è
                                </button>
                            </div>
                        </div>

                        <button type="submit" class="btn btn-primary w-100 py-2">–í–æ–π—Ç–∏</button>
                    </form>

                    {% if form.errors %}
                    <div class="alert alert-danger mt-3">
                        <strong>–û—à–∏–±–∫–∞!</strong> –ù–µ–≤–µ—Ä–Ω–æ–µ –∏–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏–ª–∏ –ø–∞—Ä–æ–ª—å.
                    </div>
                    {% endif %}

                    <!-- –¢–µ—Å—Ç–æ–≤—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –¥–ª—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏ -->
                    <div class="mt-4 p-3 bg-light rounded">
                        <h6 class="mb-2">üí° –î–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:</h6>
                        <div class="small">
                            <strong>–°–∏—Å—Ç–µ–º–Ω—ã–π –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä:</strong><br>
                            –õ–æ–≥–∏–Ω: <code>systemadmin</code><br>
                            –ü–∞—Ä–æ–ª—å: <code>SystemAdmin123!</code>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
// –§—É–Ω–∫—Ü–∏—è –¥–ª—è –ø–æ–∫–∞–∑–∞/—Å–∫—Ä—ã—Ç–∏—è –ø–∞—Ä–æ–ª—è
document.getElementById('togglePassword').addEventListener('click', function() {
    const passwordInput = document.getElementById('id_password');
    const type = passwordInput.getAttribute('type') === 'password' ? 'text' : 'password';
    passwordInput.setAttribute('type', type);

    // –ú–µ–Ω—è–µ–º –∏–∫–æ–Ω–∫—É
    this.textContent = type === 'password' ? 'üëÅÔ∏è' : 'üôà';
});

// –ê–≤—Ç–æ–∑–∞–ø–æ–ª–Ω–µ–Ω–∏–µ –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
document.addEventListener('DOMContentLoaded', function() {
    // –ú–æ–∂–Ω–æ –±—ã—Å—Ç—Ä–æ –∑–∞–ø–æ–ª–Ω–∏—Ç—å —Ñ–æ—Ä–º—É –¥–ª—è —Ç–µ—Å—Ç–∞
    const urlParams = new URLSearchParams(window.location.search);
    if (urlParams.get('test') === 'admin') {
        document.getElementById('id_username').value = 'systemadmin';
        document.getElementById('id_password').value = 'SystemAdmin123!';
    }
});
</script>

<style>
.card {
    border: none;
    box-shadow: 0 0.5rem 1rem rgba(0, 0, 0, 0.15);
}
.card-header {
    border-bottom: none;
    padding: 1.5rem 1.5rem 0.5rem;
}
.form-label {
    font-weight: 600;
    margin-bottom: 0.5rem;
}
#togglePassword {
    border-left: none;
}
</style>
{% endblock %}