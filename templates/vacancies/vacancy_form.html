{% extends 'base.html' %}

{% block title %}{{ title|default:'–°–æ–∑–¥–∞—Ç—å –≤–∞–∫–∞–Ω—Å–∏—é' }} - HR System{% endblock %}

{% block content %}
<div class="container mt-4">
    <div class="row">
        <div class="col-md-10 mx-auto">
            <div class="card">
                <div class="card-header bg-primary text-white">
                    <div class="d-flex justify-content-between align-items-center">
                        <h3 class="mb-0">{{ title|default:'‚ûï –°–æ–∑–¥–∞—Ç—å –≤–∞–∫–∞–Ω—Å–∏—é' }}</h3>
                        <a href="{% url 'vacancy_list' %}" class="btn btn-light btn-sm">‚Üê –ù–∞–∑–∞–¥ –∫ —Å–ø–∏—Å–∫—É</a>
                    </div>
                </div>
                <div class="card-body">
                    <form method="post">
                        {% csrf_token %}

                        {% if form.errors %}
                        <div class="alert alert-danger">
                            <strong>–û—à–∏–±–∫–∞!</strong> –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –∏—Å–ø—Ä–∞–≤—å—Ç–µ –æ—à–∏–±–∫–∏ –Ω–∏–∂–µ.
                            {% for field, errors in form.errors.items %}
                                {% for error in errors %}
                                    <div><strong>{{ field }}:</strong> {{ error }}</div>
                                {% endfor %}
                            {% endfor %}
                        </div>
                        {% endif %}

                        <!-- –û—Å–Ω–æ–≤–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è -->
                        <div class="card mb-4">
                            <div class="card-header bg-light">
                                <h5 class="mb-0">üìã –û—Å–Ω–æ–≤–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è</h5>
                            </div>
                            <div class="card-body">
                                <div class="mb-3">
                                    <label class="form-label">{{ form.title.label }} *</label>
                                    {{ form.title }}
                                    {% if form.title.errors %}
                                    <div class="text-danger small">
                                        {{ form.title.errors.0 }}
                                    </div>
                                    {% endif %}
                                </div>

                                <div class="mb-3">
                                    <label class="form-label">{{ form.description.label }} *</label>
                                    {{ form.description }}
                                    {% if form.description.errors %}
                                    <div class="text-danger small">
                                        {{ form.description.errors.0 }}
                                    </div>
                                    {% endif %}
                                </div>
                            </div>
                        </div>

                        <!-- –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è -->
                        <div class="card mb-4">
                            <div class="card-header bg-light">
                                <h5 class="mb-0">üéØ –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è</h5>
                            </div>
                            <div class="card-body">
                                <div class="row">
                                    <div class="col-md-6">
                                        <div class="mb-3">
                                            <label class="form-label">{{ form.required_experience.label }}</label>
                                            {{ form.required_experience }}
                                            <div class="form-text">–¢—Ä–µ–±—É–µ–º—ã–π –æ–ø—ã—Ç —Ä–∞–±–æ—Ç—ã –≤ –≥–æ–¥–∞—Ö</div>
                                        </div>
                                    </div>
                                    <div class="col-md-6">
                                        <div class="mb-3">
                                            <label class="form-label">{{ form.salary.label }}</label>
                                            <div class="input-group">
                                                {{ form.salary }}
                                                <span class="input-group-text">—Ä—É–±.</span>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <div class="mb-3">
                                    <label class="form-label">{{ form.required_skills.label }}</label>
                                    {{ form.required_skills }}
                                    <div class="form-text mt-2">
                                        <strong>üí° –î–ª—è –≤—ã–±–æ—Ä–∞ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –Ω–∞–≤—ã–∫–æ–≤:</strong><br>
                                        - –ó–∞–∂–º–∏—Ç–µ <kbd>Ctrl</kbd> (Windows) –∏–ª–∏ <kbd>Cmd</kbd> (Mac) –∏ –∫–ª–∏–∫–∞–π—Ç–µ –ø–æ –Ω–∞–≤—ã–∫–∞–º
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- –£—Å–ª–æ–≤–∏—è —Ä–∞–±–æ—Ç—ã -->
                        <div class="card mb-4">
                            <div class="card-header bg-light">
                                <h5 class="mb-0">üè¢ –£—Å–ª–æ–≤–∏—è —Ä–∞–±–æ—Ç—ã</h5>
                            </div>
                            <div class="card-body">
                                <div class="row">
                                    <div class="col-md-6">
                                        <div class="mb-3">
                                            <label class="form-label">{{ form.work_format.label }}</label>
                                            {{ form.work_format }}
                                        </div>
                                    </div>
                                    <div class="col-md-6">
                                        <div class="mb-3">
                                            <label class="form-label">{{ form.employment_type.label }}</label>
                                            {{ form.employment_type }}
                                        </div>
                                    </div>
                                </div>

                                <div class="mb-3">
                                    <label class="form-label">{{ form.location.label }}</label>
                                    {{ form.location }}
                                    <div class="form-text">–ù–∞–ø—Ä–∏–º–µ—Ä: –ú–æ—Å–∫–≤–∞, –°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥ –∏–ª–∏ –£–¥–∞–ª–µ–Ω–Ω–æ</div>
                                </div>
                            </div>
                        </div>

                        <!-- –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –≤–∞–∫–∞–Ω—Å–∏–∏ -->
                        <div class="card mb-4">
                            <div class="card-header bg-light">
                                <h5 class="mb-0">‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –≤–∞–∫–∞–Ω—Å–∏–∏</h5>
                            </div>
                            <div class="card-body">
                                <div class="row">
                                    <div class="col-md-6">
                                        <div class="mb-3">
                                            <label class="form-label">{{ form.status.label }}</label>
                                            {{ form.status }}
                                        </div>
                                    </div>
                                    <div class="col-md-6">
                                        <div class="mb-3">
                                            <label class="form-label">{{ form.assigned_recruiter.label }}</label>
                                            {{ form.assigned_recruiter }}
                                            <div class="form-text">–ù–∞–∑–Ω–∞—á—å—Ç–µ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ —Ä–µ–∫—Ä—É—Ç–µ—Ä–∞</div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- –ö–Ω–æ–ø–∫–∏ –¥–µ–π—Å—Ç–≤–∏–π -->
                        <div class="d-flex justify-content-between mt-4">
                            <a href="{% url 'vacancy_list' %}" class="btn btn-secondary btn-lg">
                                ‚Üê –ù–∞–∑–∞–¥ –∫ —Å–ø–∏—Å–∫—É
                            </a>
                            <button type="submit" class="btn btn-success btn-lg">
                                ‚úÖ {{ title|default:'–°–æ—Ö—Ä–∞–Ω–∏—Ç—å –≤–∞–∫–∞–Ω—Å–∏—é' }}
                            </button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>

<style>
select[multiple] {
    min-height: 150px;
}
.form-text {
    font-size: 0.875em;
    color: #6c757d;
}
.card {
    border: 1px solid #dee2e6;
    margin-bottom: 1rem;
}
.card-header.bg-light {
    background-color: #f8f9fa !important;
    border-bottom: 1px solid #dee2e6;
}
.form-control, .form-select {
    border-radius: 0.375rem;
    border: 1px solid #ced4da;
    padding: 0.375rem 0.75rem;
    width: 100%;
}
.form-control:focus, .form-select:focus {
    border-color: #86b7fe;
    outline: 0;
    box-shadow: 0 0 0 0.25rem rgba(13, 110, 253, 0.25);
}
kbd {
    background-color: #6c757d;
    color: white;
    padding: 0.1rem 0.3rem;
    border-radius: 0.2rem;
    font-size: 0.875em;
}
</style>
{% endblock %}